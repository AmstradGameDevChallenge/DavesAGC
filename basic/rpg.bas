1 REM 
1 REM BASIC DUNGEONS
1 REM My RPG game for Amstrad GameDev Challenge, BASIC version
1 REM by 8bitDave <david.novella@me.com>
1 REM Created: 20190711
1 REM Last updated: 20190719



1 REM VARIABLE INIT
100 DEFINT a-z
120 pe=100:pa=30:pd=15
130 ee=80:ea=20:ed=10
140 game$="BASIC DUNGEONS"
150 a$="":m$=""
1 REM Flag for attack, 0 the enemy attacks player, 1 player attacks
160 fa=0 

1 REM SPLASH SCREEN
210 MODE 1:INK 0,0:INK 1,26:INK 2,6:INK 3,9
220 ORIGIN 160,300:DRAW 300,0,2:DRAW 300,-100:DRAW 0,-100:DRAW 0,0
230 BORDER 0:LOCATE 13,8:PRINT game$
240 LOCATE 15,10:PRINT"#TeamBASIC"
250 LOCATE 16,11:PRINT"8bitDave"
260 LOCATE 14,20:PRINT"Key to START!"
270 a$=INKEY$
280 IF a$="" THEN GOTO 270

1 REM DRAW GAME SCREEN AND WINDOW DEFS
310 CLS
1 REM **** GAME WINDOW ****
320 WINDOW #1,1,32,1,19:PEN #1,1 
1 REM **** MESSAGES WINDOW ****
325 WINDOW #2,1,40,21,25:PEN #2,1
1 REM **** PLAYER STATUS WINDOW ****
330 WINDOW #3,34,40,1,10:PEN #3,3
1 REM **** ENEMY STATUS WINDOW ****
340 WINDOW #4,34,40,11,19:PEN #4,2
350 ORIGIN 0,82:DRAW 640,0,2
351 ORIGIN 0,86:DRAW 640,0,1
352 ORIGIN 0,88:DRAW 640,0,1         
353 ORIGIN 0,92:DRAW 514,0,2
354 ORIGIN 514,92:DRAW 0,308,2
355 ORIGIN 518,86:DRAW 0,314,1      
356 ORIGIN 520,86:DRAW 0,314,1
357 ORIGIN 524,92:DRAW 0,308,3
358 ORIGIN 524,92:DRAW 116,0,3

1 REM PLAYER AND ENEMY LOCATION AND FIRST DRAWING
400 px=15:py=10
410 LOCATE #1,px,py:PRINT #1,CHR$(249)
420 ex=20:ey=15
430 LOCATE #1,ex,ey:PRINT #1,CHR$(242)

1 REM GAME LOGIC
500 WHILE (1)
510 a$=INKEY$
520 IF a$="O" OR a$="o" OR a$=chr$(242) THEN GOSUB 1000
530 IF a$="P" or a$="p" OR a$=chr$(243) THEN GOSUB 1200
540 IF a$="Q" or a$="q" OR a$=chr$(240) THEN GOSUB 1400
550 IF a$="A" or a$="a" OR a$=chr$(241) THEN GOSUB 1600
1 IF a$="D" or a$="d" THEN pe=pe+pd:GOTO 600
560 IF a$="R" or a$="r" THEN GOTO 100
570 WEND

1 REM SUBROUTINE FOR MOVING LEFT THE PLAYER
1000 IF px>1 THEN px=px-1
1010 IF px=ex AND py=ey THEN px=px+1:fa=1:GOSUB 1800:RETURN
1020 LOCATE #1,px,py:PRINT #1,CHR$(249);CHR$(32);
1030 RETURN

1 REM SUBROUTINE FOR MOVING RIGHT THE PLAYER
1200 IF px<32 THEN px=px+1
1210 IF px=ex AND py=ey THEN px=px-1:fa=1:GOSUB 1800:RETURN
1220 LOCATE #1,px-1,py:PRINT #1,CHR$(32);CHR$(249);
1230 RETURN

1 REM SUBROUTINE FOR MOVING UP THE PLAYER
1400 IF py>1 THEN py=py-1
1410 IF px=ex AND py=ey THEN py=py+1:fa=1:GOSUB 1800:RETURN
1420 LOCATE #1,px,py:PRINT #1,CHR$(249);
1430 IF py<19 THEN LOCATE #1,px,py+1:PRINT #1,CHR$(32);
1440 RETURN

1 REM SUBROUTINE FOR MOVING DOWN THE PLAYER
1600 IF py<19 THEN py=py+1
1610 IF px=ex AND py=ey THEN py=py-1:fa=1:GOSUB 1800:RETURN
1620 LOCATE #1,px,py:PRINT #1,CHR$(249);
1630 IF py>1 THEN LOCATE #1,px,py-1:PRINT #1,CHR$(32);
1640 RETURN

1 REM SUBROUTINE FOR ATTACKING AN ENEMY
1800 IF fa=1 THEN PRINT #2,"Player attacks" ELSE PRINT #3,"Enemy attacks"
1990 RETURN




1
